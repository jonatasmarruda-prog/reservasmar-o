<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reservas de Passeios</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{margin:0;background:#0c0c0c;font-family:Poppins,sans-serif;color:#fff}
.container{max-width:520px;margin:auto;padding:14px}
.card{background:#151515;border-radius:22px;padding:16px;box-shadow:0 0 25px rgba(0,0,0,.7)}
.banner img{width:100%;border-radius:18px}
select,input{width:100%;padding:14px;border-radius:14px;border:none;background:#2a2a2a;color:#fff}
label{margin-top:10px;display:block;font-weight:600}
.total{font-size:22px;font-weight:700;text-align:center;color:#00ff9c;margin-top:10px}
.info{text-align:center;font-size:14px;margin-top:6px}
.ultimas{display:none;background:#ff1744;padding:10px;border-radius:12px;text-align:center;font-weight:700;margin-top:8px}
.alerta{display:none;background:#550000;padding:12px;border-radius:12px;text-align:center;font-weight:700;margin-top:10px}
.btn{width:100%;margin-top:14px;padding:18px;border-radius:50px;border:none;font-size:18px;font-weight:700;background:linear-gradient(135deg,#00ff9c,#00c96b)}
</style>

<script>
const PIX="trilheiros.roomt@gmail.com";
const WHATS="5566996926174";

const CARTAO_CHAPADA = {
  casal: "https://mpago.li/1szssQp",
  compartilhado: "https://mpago.li/1VoTeFx"
};

const passeios={
  chapada:{
    nome:"Chapada dos Guimar√£es",
    banner:"https://i.postimg.cc/vZLwxjSc/Copia-de-Post-instagram-dia-dos-povos-indigenas-ousado-verde.png",
    vagasKey:"vagas_chapada",
    vagasTotal:30,
    valores:{
      camping:{pix:360},
      compartilhado:{pix:420},
      casal:{pix:560},
      crianca:{pix:360}
    }
  }
};

let vagasDisponiveis=0;

function carregar(){
  banner.src=passeios.chapada.banner;
  titulo.innerText=passeios.chapada.nome;

  vagasDisponiveis=localStorage.getItem("vagas_chapada");
  if(vagasDisponiveis===null){
    vagasDisponiveis=30;
    localStorage.setItem("vagas_chapada",30);
  }
  vagasDisponiveis=parseInt(vagasDisponiveis);

  atualizar();
}

function atualizar(){
  const tipo=tipoHospedagem.value;
  const a=+qtdAdulto.value;
  const c=+qtdCrianca.value;
  const vagas=a+c+(tipo==="casal"?1:0);

  info.innerHTML=`üéüÔ∏è Vagas restantes: <b>${vagasDisponiveis}</b>`;
  ultimas.style.display=vagasDisponiveis<=5 && vagasDisponiveis>0?"block":"none";
  alerta.style.display=vagasDisponiveis<=0?"block":"none";

  let total = a*passeios.chapada.valores[tipo].pix +
              c*passeios.chapada.valores.crianca.pix;

  totalBox.innerText=vagas?`üéüÔ∏è ${vagas} vagas | üí∞ R$ ${total}`:"";
}

function confirmar(){
  if(!nome.value.trim()) return alert("Informe seu nome.");

  const tipo=tipoHospedagem.value;
  const a=+qtdAdulto.value;
  const c=+qtdCrianca.value;
  const vagas=a+c+(tipo==="casal"?1:0);

  if(vagas>vagasDisponiveis) return alert("Vagas insuficientes.");

  if(pagamento.value==="pix"){
    navigator.clipboard.writeText(PIX);
    alert("PIX copiado! Envie o comprovante para garantir sua vaga.");
  }else{
    if(vagas>1){
      alert("Para mais de uma pessoa no cart√£o, fale com o Jonatas para gerar um novo link.");
      return;
    }

    if(tipo==="casal" || tipo==="compartilhado"){
      window.open(CARTAO_CHAPADA[tipo],"_blank");
      alert("Ap√≥s o pagamento, envie o comprovante no WhatsApp.");
    }else{
      alert("Pagamento no cart√£o dispon√≠vel apenas para quarto compartilhado ou casal.");
      return;
    }
  }

  vagasDisponiveis-=vagas;
  localStorage.setItem("vagas_chapada",vagasDisponiveis);

  const msg=`Reserva Chapada dos Guimar√£es
Nome: ${nome.value}
Hospedagem: ${tipo}
Adultos: ${a}
Crian√ßas: ${c}
${totalBox.innerText}

Segue comprovante para garantir minha vaga.`;

  window.open(`https://wa.me/${WHATS}?text=${encodeURIComponent(msg)}`);
}
</script>
</head>

<body>
<div class="container">
<div class="card">

<div class="banner"><img id="banner"></div>
<h2 id="titulo" style="text-align:center"></h2>

<label>Nome completo</label>
<input id="nome">

<label>Hospedagem</label>
<select id="tipoHospedagem" onchange="atualizar()">
<option value="camping">üèïÔ∏è Camping</option>
<option value="compartilhado">üõèÔ∏è Quarto compartilhado</option>
<option value="casal">üõå Quarto casal</option>
</select>

<label>Adultos</label>
<select id="qtdAdulto" onchange="atualizar()">
<option>0</option><option>1</option><option>2</option><option>3</option><option>4</option>
</select>

<label>Crian√ßas at√© 10 anos</label>
<select id="qtdCrianca" onchange="atualizar()">
<option>0</option><option>1</option><option>2</option><option>3</option>
</select>

<div id="info" class="info"></div>
<div id="ultimas" class="ultimas">‚ö†Ô∏è √öLTIMAS VAGAS</div>
<div id="alerta" class="alerta">‚ùå VAGAS ESGOTADAS</div>

<div id="totalBox" class="total"></div>

<label>Forma de pagamento</label>
<select id="pagamento">
<option value="pix">PIX</option>
<option value="cartao">Cart√£o de cr√©dito</option>
</select>

<button class="btn" onclick="confirmar()">CONFIRMAR E PAGAR</button>

</div>
</div>

<script>carregar();</script>
</body>
</html>
